<!DOCTYPE html>
<html>
<head>
    <title>Super Silly Jump</title>
    <link rel="icon" type="image/png" href="smilenormalsonormalsmile.jpg"/>
    <meta name="viewport" content="width=device-width, initialscale=1.0"/>
    <style>
        body{
            overflow: hidden;
        }
        canvas{
            background-color: transparent;
            position: absolute;
            top: 0px;
            left: 0px;
        }
    </style>
</head>
<body onload="startGame()">
    <script>

        var player;
        var up;
        var right;

        function startGame() {
            background.start();
            playerLayer.start();
            player = new makePlayer(500,500);
        }

        var background = {
            canvas : document.createElement("canvas"),
            start : function() {
                this.canvas.style.backgroundColor = "#FF9999"
                this.canvas.style.zIndex = 1;
                this.canvas.width = screen.width;
                this.canvas.height = screen.height;
                this.context = this.canvas.getContext('2d');
                document.body.insertBefore(this.canvas, document.body.childNodes[0])
            }
        }

        var playerLayer = {
            canvas : document.createElement("canvas"),
            start : function() {
                this.canvas.style.zIndex = 2;
                this.canvas.width = screen.width;
                this.canvas.height = screen.height;
                this.context = this.canvas.getContext("2d");
                document.body.insertBefore(this.canvas, document.body.childNodes[1]);
                this.interval = setInterval(updatePlayer, 10)
            },
            clear : function() {
                this.context.clearRect(0,0,this.canvas.width,this.canvas.height);
            }
        }

        function makePlayer(x,y) {
            this.x = x;
            this.y = y;
            this.update = function(){
                plrCtx = playerLayer.context;
                plrCtx.fillStyle = "yellow";
                plrCtx.fillRect(this.x, this.y, 100, 300)
            }
        }

        //function updatePlayer() {
        //    player.y += 2*up
        //    player.x += 2*right
        //    playerLayer.clear();
        //    player.update();
        //}

    /*window.addEventListener("keydown", function (event) {
        if (event.defaultPrevented) {
            return; // Do nothing if the event was already processed
        }

        switch (event.key) {
            case "w":
            up = 1;
            break;
            case "s":
            up = -1;
            break;
            case "a":
            right = -1;
            break;
            case "d":
            right = 1;
            break;
            case " ":
            //smth
            break;
            default:
            return;
        }

        // Cancel the default action to avoid it being handled twice
        event.preventDefault();
    }, true);*/
    </script>

    </body>
</html>